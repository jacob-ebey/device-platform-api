webpackJsonp([1],{277:function(e,t,a){a(289);var s=a(1)(a(282),a(294),"data-v-3e67e912",null);e.exports=s.exports},282:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(3),o=a(4),n=a(6),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e};t.default={components:{CardModal:o.a,Tooltip:n.a},computed:a.i(s.mapGetters)({gateways:"gateways",createGateway:"createGateway"}),data:function(){return{showAddGateway:!1,name:"",showDeleteGateway:!1,gatewayToDelete:null,indexToDelete:null}},mounted:function(){switch(this.$route.query.action){case"add":this.showAddGateway=!0}this.loadGateways(!1)},methods:i({},a.i(s.mapActions)(["doLoad","doPost","doDelete","doPush","doSplice"]),{loadGateways:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.doLoad({http:this.$http,whatToLoad:"gateways",forceLoad:e})},openAddGateway:function(){this.showAddGateway=!0},closeAddGateway:function(){this.showAddGateway=!1,this.name=""},openDeleteGateway:function(e,t){this.showDeleteGateway=!0,this.gatewayToDelete=e,this.indexToDelete=t},closeDeleteGateway:function(){this.showDeleteGateway=!1,this.gatewayToDelete=null,this.indexToDelete=null},addGateway:function(){var e=this,t={name:this.name};this.doPost({http:this.$http,whatToPost:"createGateway",body:t,callback:function(t){e.doPush({whereToPush:"gateways",item:t}),e.closeAddGateway()}})},deleteGateway:function(e,t){var a=this;e&&this.doDelete({http:this.$http,whatToPost:"deleteGateway",params:[e._id],callback:function(){a.doSplice({whereToSplice:"gateways",start:t,deleteCount:1}),a.closeDeleteGateway()}})}})}},284:function(e,t,a){t=e.exports=a(273)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:""}])},289:function(e,t,a){var s=a(284);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(274)("4c023b30",s,!0)},294:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"table-buttons"},[a("button",{staticClass:"button is-success has-text-centered",on:{click:e.openAddGateway}},[e._m(0),e._v(" "),a("span",[e._v("\n        Add Gateway\n      ")])])]),e._v(" "),a("table",{staticClass:"table is-striped"},[a("thead",[a("tr",[a("th",[e.gateways.isLoading?a("button",{staticClass:"button is-white is-loading"}):e._e(),e._v(" "),e.gateways.isLoading?e._e():a("tooltip",{attrs:{label:"Reload gateways",placement:"top-right"}},[a("button",{staticClass:"button is-small has-text-centered",on:{click:e.loadGateways}},[a("i",{staticClass:"fa fa-refresh center-icon"})])])],1),e._v(" "),a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("ID")]),e._v(" "),a("th",[e._v("Actions")])])]),e._v(" "),e.gateways.data?a("tbody",e._l(e.gateways.data,function(t,s){return a("tr",{key:t._id},[e._m(1,!0),e._v(" "),a("td",[a("router-link",{attrs:{to:"gateways/view/"+t._id}},[e._v(e._s(t.name))])],1),e._v(" "),a("td",[e._v(e._s(t._id))]),e._v(" "),a("td",[a("button",{staticClass:"button is-danger has-text-centered",on:{click:function(a){e.openDeleteGateway(t,s)}}},[a("i",{staticClass:"fa fa-trash-o center-icon"})])])])})):e._e()]),e._v(" "),a("card-modal",{attrs:{visible:e.showAddGateway,title:"New Gateway"},on:{close:e.closeAddGateway,ok:e.addGateway,cancel:e.closeAddGateway}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.createGateway.error,expression:"createGateway.error"}],staticStyle:{color:"red","word-wrap":"break-word"}},[e._v(e._s(e.createGateway.error))]),e._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Name")]),e._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"input",attrs:{type:"text",placeholder:"name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})])])]),e._v(" "),a("card-modal",{attrs:{visible:e.showDeleteGateway&&!!e.gatewayToDelete&&null!==e.indexToDelete,okText:"Yes",cancelText:"No",title:"Delete Project"},on:{close:e.closeDeleteGateway,ok:function(t){e.deleteGateway(e.gatewayToDelete,e.indexToDelete)},cancel:e.closeDeleteGateway}},[a("p",[e._v("Do you really wish to delete "+e._s(e.gatewayToDelete&&e.gatewayToDelete.name)+"?")])])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fa fa-plus center-icon"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("i",{staticClass:"fa fa-check has-text-success"})])}]}}});
//# sourceMappingURL=1.8df5004ee7bdff063ca3.js.map