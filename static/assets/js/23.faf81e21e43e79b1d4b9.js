webpackJsonp([23],{296:function(e,t,o){o(715);var s=o(1)(o(590),o(811),"data-v-9d9405c6",null);e.exports=s.exports},590:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(3),c=o(8),a=o(4),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e};t.default={components:{CardModal:c.a,Tooltip:a.a},computed:o.i(s.mapGetters)({loading:"loading",createProject:"createProject"}),data:function(){return{showAddProject:!1,name:"",showDeleteProject:!1,projectToDelete:null,indexToDelete:null}},mounted:function(){switch(this.$route.query.action){case"add":this.showAddProject=!0}this.loadProjects(!1)},methods:r({},o.i(s.mapActions)(["doLoad","doPost","doDelete","doPush","doSplice"]),{loadProjects:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.doLoad({http:this.$http,whatToLoad:"projects",forceLoad:e})},openAddProject:function(){this.showAddProject=!0},closeAddProject:function(){this.showAddProject=!1,this.name=""},openDeleteProject:function(e,t){this.projectToDelete=e,this.showDeleteProject=!0,this.indexToDelete=t},closeDeleteProject:function(){this.showDeleteProject=!1,this.projectToDelete=null,this.indexToDelete=null},addProject:function(){var e=this,t={name:this.name};this.doPost({http:this.$http,whatToPost:"createProject",body:t,callback:function(t){e.doPush({whereToPush:"projects",item:t}),e.closeAddProject()}})},deleteProject:function(e,t){var o=this;e&&this.doDelete({http:this.$http,whatToPost:"deleteProject",params:[e._id],callback:function(){o.doSplice({whereToSplice:"projects",start:t,deleteCount:1}),o.closeDeleteProject()}})}})}},672:function(e,t,o){t=e.exports=o(263)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:""}])},715:function(e,t,o){var s=o(672);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);o(264)("dd9f9434",s,!0)},811:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"table-buttons"},[o("button",{staticClass:"button is-success has-text-centered",on:{click:e.openAddProject}},[e._m(0),e._v(" "),o("span",[e._v("\n          Add Project\n        ")])])]),e._v(" "),o("table",{staticClass:"table is-striped"},[o("thead",[o("tr",[o("th",[e.loading.projects.isLoading?o("button",{staticClass:"button is-white is-loading"}):e._e(),e._v(" "),e.loading.projects.isLoading?e._e():o("tooltip",{attrs:{label:"Reload projects",placement:"top-right"}},[o("button",{staticClass:"button is-small has-text-centered",on:{click:e.loadProjects}},[o("i",{staticClass:"fa fa-refresh center-icon"})])])],1),e._v(" "),o("th",[e._v("Name")]),e._v(" "),o("th",[e._v("ID")]),e._v(" "),o("th",[e._v("Actions")])])]),e._v(" "),e.loading.projects.data?o("tbody",e._l(e.loading.projects.data,function(t,s){return o("tr",{key:t._id},[e._m(1,!0),e._v(" "),o("td",[o("router-link",{attrs:{to:"projects/view/"+t._id}},[e._v(e._s(t.name))])],1),e._v(" "),o("td",[e._v(e._s(t._id))]),e._v(" "),o("td",[o("button",{staticClass:"button is-danger has-text-centered",on:{click:function(o){e.openDeleteProject(t,s)}}},[o("i",{staticClass:"fa fa-trash-o center-icon"})])])])})):e._e()]),e._v(" "),o("card-modal",{attrs:{visible:e.showAddProject,title:"New Project"},on:{close:e.closeAddProject,ok:e.addProject,cancel:e.closeAddProject}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.createProject.error,expression:"createProject.error"}],staticStyle:{color:"red","word-wrap":"break-word"}},[e._v(e._s(e.createProject.error))]),e._v(" "),o("div",{staticClass:"field"},[o("label",{staticClass:"label"},[e._v("Name")]),e._v(" "),o("div",{staticClass:"control"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"input",attrs:{type:"text",placeholder:"name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})])])]),e._v(" "),o("card-modal",{attrs:{visible:e.showDeleteProject&&!!e.projectToDelete&&null!==e.indexToDelete,okText:"Yes",cancelText:"No",title:"Delete Project"},on:{close:e.closeDeleteProject,ok:function(t){e.deleteProject(e.projectToDelete,e.indexToDelete)},cancel:e.closeDeleteProject}},[o("p",[e._v("Do you really wish to delete "+e._s(e.projectToDelete&&e.projectToDelete.name)+"?")])])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",{staticClass:"icon is-small"},[o("i",{staticClass:"fa fa-plus center-icon"})])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("td",[o("i",{staticClass:"fa fa-check has-text-success"})])}]}}});
//# sourceMappingURL=23.faf81e21e43e79b1d4b9.js.map